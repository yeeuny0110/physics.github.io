<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<title>ë¬¼ë¦¬ ìš´ë™ ê·¸ë˜í”„ ë¶„ì„ê¸°</title>

<link rel="stylesheet" href="first.css">
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>

<body>
<div class="container">
  <h1>ğŸ“Š ë¬¼ë¦¬ ìš´ë™ ê·¸ë˜í”„ ë¶„ì„ê¸°</h1>

  <!-- ìš´ë™ ì„ íƒ -->
  <div class="box">
    <label>ìš´ë™ ì„ íƒ</label>
    <select id="motionType">
      <option value="uniform">ë“±ì† ì§ì„  ìš´ë™</option>
      <option value="accelerated">ë“±ê°€ì†ë„ ì§ì„  ìš´ë™</option>
      <option value="projectile">í¬ë¬¼ì„  ìš´ë™</option>
    </select>
  </div>

  <!-- ê·¸ë˜í”„ ì„ íƒ -->
  <div class="box">
    <label>ê·¸ë˜í”„ ì„ íƒ</label>
    <select id="graphType">
      <option value="xt">ìœ„ì¹˜ - ì‹œê°„</option>
      <option value="vt">ì†ë„ - ì‹œê°„</option>
      <option value="xy">í¬ë¬¼ì„  (x - y)</option>
    </select>
  </div>

  
  <!-- ì…ë ¥ ì˜ì—­ -->
  <div class="inputs">

    <div class="input-group">
      <label>ì´ˆê¸° ìœ„ì¹˜ xâ‚€ (m)</label>
      <input type="number" id="x0" value="0">
    </div>

    <div class="input-group">
      <label>ì´ˆê¸° ì†ë„ vâ‚€ (m/s)</label>
      <input type="number" id="v0" value="10">
    </div>

    <div class="input-group">
      <label>ê°€ì†ë„ a (m/sÂ²)</label>
      <input type="number" id="a" value="0">
    </div>

    <div class="input-group">
      <label>ì´ ì‹œê°„ (s)</label>
      <input type="number" id="totalTime" value="5">
    </div>

    <div class="input-group">
      <label>ì‹œê°„ ê°„ê²© Î”t (s)</label>
      <input type="number" id="dt" value="0.1" step="0.05">
    </div>

    <!-- í¬ë¬¼ì„  ì „ìš© -->
    <div class="input-group">
      <label>ì´ˆê¸° yê°’ (m)</label>
      <input type="number" id="y0" value="0">
    </div>

    <div class="input-group">
      <label>ë°œì‚¬ ê°ë„ (ë„)</label>
      <input type="number" id="angle" value="45">
    </div>

    <div class="input-group">
      <label>x ìµœëŒ€ê°’ (m)</label>
      <input type="number" id="xMax" value="20">
    </div>

    <div class="input-group">
      <label>x ê°„ê²© Î”x (m)</label>
      <input type="number" id="dx" value="0.2">
    </div>

  </div>

  <button onclick="drawGraph()">ê·¸ë˜í”„ ê·¸ë¦¬ê¸°</button>

  <canvas id="chart"></canvas>
</div>

<script>
let chart;

const graphType = document.getElementById("graphType");
const motionType = document.getElementById("motionType");

const x0 = document.getElementById("x0");
const v0 = document.getElementById("v0");
const a = document.getElementById("a");
const totalTime = document.getElementById("totalTime");
const dt = document.getElementById("dt");

const y0 = document.getElementById("y0");
const angle = document.getElementById("angle");
const xMax = document.getElementById("xMax");
const dx = document.getElementById("dx");

function disableAll() {
  [
    x0, v0, a, totalTime, dt,
    y0, angle, xMax, dx
  ].forEach(e => e.disabled = true);
}

function updateInputs() {
  disableAll();

  // ì§ì„  ìš´ë™
  if (graphType.value !== "xy") {
    v0.disabled = false;
    totalTime.disabled = false;
    dt.disabled = false;

    if (graphType.value === "xt") x0.disabled = false;
    if (motionType.value === "accelerated") a.disabled = false;
  }

  // í¬ë¬¼ì„  ìš´ë™
  if (graphType.value === "xy" && motionType.value === "projectile") {
    v0.disabled = false;
    angle.disabled = false;
    y0.disabled = false;
    xMax.disabled = false;
    dx.disabled = false;
  }
}

graphType.addEventListener("change", updateInputs);
motionType.addEventListener("change", updateInputs);
updateInputs();

function drawGraph() {
  let X = [], Y = [];
  let title = "", xLabel = "", yLabel = "";

  // ìœ„ì¹˜ - ì‹œê°„
  if (graphType.value === "xt") {
    xLabel = "ì‹œê°„ (s)";
    yLabel = "ìœ„ì¹˜ (m)";
    title = "ìœ„ì¹˜ - ì‹œê°„ ê·¸ë˜í”„";

    for (let t = 0; t <= totalTime.value; t += +dt.value) {
      X.push(t);
      if (motionType.value === "uniform")
        Y.push(+x0.value + +v0.value * t);
      else
        Y.push(+x0.value + +v0.value * t + 0.5 * +a.value * t * t);
    }
  }

  // ì†ë„ - ì‹œê°„
  if (graphType.value === "vt") {
    xLabel = "ì‹œê°„ (s)";
    yLabel = "ì†ë„ (m/s)";
    title = "ì†ë„ - ì‹œê°„ ê·¸ë˜í”„";

    for (let t = 0; t <= totalTime.value; t += +dt.value) {
      X.push(t);
      Y.push(
        motionType.value === "uniform"
          ? +v0.value
          : +v0.value + +a.value * t
      );
    }
  }

  // í¬ë¬¼ì„  x - y
  if (graphType.value === "xy") {
    xLabel = "x ìœ„ì¹˜ (m)";
    yLabel = "y ìœ„ì¹˜ (m)";
    title = "í¬ë¬¼ì„  ìš´ë™ (x - y)";
    const g = 9.8;
    const rad = angle.value * Math.PI / 180;

    for (let x = 0; x <= xMax.value; x += +dx.value) {
      const t = x / (v0.value * Math.cos(rad));
      const y = +y0.value
        + v0.value * Math.sin(rad) * t
        - 0.5 * g * t * t;

      if (y >= 0) {
        X.push(x);
        Y.push(y);
      }
    }
  }

  if (chart) chart.destroy();

  chart = new Chart(document.getElementById("chart"), {
    type: "line",
    data: {
      labels: X,
      datasets: [{
        data: Y,
        borderWidth: 2,
        pointRadius: 2
      }]
    },
    options: {
      plugins: { title: { display: true, text: title }},
      scales: {
        x: { title: { display: true, text: xLabel }},
        y: { title: { display: true, text: yLabel }}
      }
    }
  });
}
</script>
</body>
</html>
